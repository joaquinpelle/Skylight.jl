var documenterSearchIndex = {"docs":
[{"location":"postprocess/postprocess/#Postprocess","page":"Postprocess","title":"Postprocess","text":"","category":"section"},{"location":"spacetimes/catalogue/","page":"Catalogue","title":"Catalogue","text":"Modules = [Skylight]\nFilter = t -> typeof(t) === DataType && t <: Skylight.AbstractSpacetime","category":"page"},{"location":"spacetimes/catalogue/#Skylight.AbstractBlackHoleSpacetime","page":"Catalogue","title":"Skylight.AbstractBlackHoleSpacetime","text":"AbstractBlackHoleSpacetime <: AbstractSpacetime\n\nSupertype for representing spacetimes containing black holes. \n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.AbstractRegularCompactObjectSpacetime","page":"Catalogue","title":"Skylight.AbstractRegularCompactObjectSpacetime","text":"AbstractRegularCompactObjectSpacetime <: AbstractSpacetime\n\nSupertype for representing spacetimes containing compact objects without horizons like boson stars. \n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.AbstractSpacetime","page":"Catalogue","title":"Skylight.AbstractSpacetime","text":"AbstractSpacetime\n\nSupertype for representing the geometrical structure of spacetime. Specific implementations of spacetime, such as black holes and regular compact objects, are subtypes of this abstract type.\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.BosonStarSpacetime","page":"Catalogue","title":"Skylight.BosonStarSpacetime","text":"BosonStarSpacetime <: AbstractRegularCompactObjectSpacetime\n\nBoson star spacetime in spherical coordinates. It uses analyical fits. Either the  fit parameters as described in... can be provided as vectors, or any of the symbols :LBS1,  :LBS2, :LBS3, :SBS1, :SBS2 or :SBS3 as constructor arguments\n\nExamples\n\nBosonStarSpacetime(a=aparams, a=9, R0=-0.0012) \nBosonStarSpacetime(:LBS1)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.ChargedWormholeSpacetimeRegularCoordinates","page":"Catalogue","title":"Skylight.ChargedWormholeSpacetimeRegularCoordinates","text":"ChargedWormholeSpacetimeRegularCoordinates <: AbstractSpacetime\n\nCharged wormhole spacetime  in regular (throat crossing) coordinates.\n\nExample\n\nChargedWormholeSpacetimeRegularCoordinates(b0=1.0, Q=0.5)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.ChargedWormholeSpacetimeSphericalCoordinates","page":"Catalogue","title":"Skylight.ChargedWormholeSpacetimeSphericalCoordinates","text":"ChargedWormholeSpacetimeSphericalCoordinates <: AbstractSpacetime\n\nCharged wormhole spacetime  in usual spherical coordinates.\n\nExample\n\nChargedWormholeSpacetimeSphericalCoordinates(b0=1.0, Q=0.5)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.FRKerrSpacetime","page":"Catalogue","title":"Skylight.FRKerrSpacetime","text":"FRKerrSpacetime <: AbstractBlackHoleSpacetime\n\nf(R)-Kerr spacetime  (uncharged) with constant curvature R_0\n\nExample\n\nFRKerrSpacetime(M=1.0, a=0.99, R0=-0.0012) \n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.JohannsenSpacetime","page":"Catalogue","title":"Skylight.JohannsenSpacetime","text":"JohannsenSpacetime <: AbstractBlackHoleSpacetime\n\nJohannsen spacetime to lowest order in the  deformation parameters with respect to the Kerr metric\n\nExample\n\nJohannsenSpacetime(M=1.0, a=0.99, α13=0.5, α22=0.0, α52=0.01, ϵ3=0.0)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.KerrSpacetimeBoyerLindquistCoordinates","page":"Catalogue","title":"Skylight.KerrSpacetimeBoyerLindquistCoordinates","text":"KerrSpacetimeBoyerLindquistCoordinates <: AbstractKerrSpacetime\n\nKerr spacetime in Boyer-Lindquist coordinates. The parameter are the mass M and the  dimensionless spin a. \n\nExample\n\nKerrSpacetimeBoyerLindquistCoordinates(M=1.0, a=0.99)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.KerrSpacetimeKerrSchildCoordinates","page":"Catalogue","title":"Skylight.KerrSpacetimeKerrSchildCoordinates","text":"KerrSpacetimeKerrSchildCoordinates <: AbstractKerrSpacetime\n\nKerr spacetime in Kerr-Schild coordinates. The parameter are the mass M and the  dimensionless spin a. The metric is\n\ng_mu nu = eta_mu nu + H l_mu l_nu\n\nwhere eta_mu nu is the flat metric, H=2Mr^3(r^4+a^2 z^2, and \n\nl_mu=(1fracrx+ayr^2+a^2fracry-axr^2+a^2zr)\n\nwhere r satisfies the equation\n\nfracx^2+y^2r^2+a^2 + fracz^2r^2 = 1\n\nExample\n\nKerrSpacetimeKerrSchildCoordinates(M=1.0, a=0.99)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.MinkowskiSpacetimeCartesianCoordinates","page":"Catalogue","title":"Skylight.MinkowskiSpacetimeCartesianCoordinates","text":"MinkowskiSpacetimeCartesianCoordinates <: AbstractSpacetime\n\nMinkowski Spacetime in spherical coordinates. \n\nds^2 = -dt^2 + dx^2 + dy^2 + dz^2\n\nExample\n\nMinkowskiSpacetimeCartesianCoordinates()\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.MinkowskiSpacetimeSphericalCoordinates","page":"Catalogue","title":"Skylight.MinkowskiSpacetimeSphericalCoordinates","text":"MinkowskiSpacetimeSphericalCoordinates <: AbstractSpacetime\n\nMinkowski Spacetime in spherical coordinates. \n\nds^2 = -dt^2 + dr^2 + r^2 dtheta^2 + r^2 sin^2 theta dphi^2\n\nwhere r is the radial coordinate and θ is the polar angle.\n\nExample\n\nMinkowskiSpacetimeSphericalCoordinates()\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.SchwarzschildSpacetimeKerrSchildCoordinates","page":"Catalogue","title":"Skylight.SchwarzschildSpacetimeKerrSchildCoordinates","text":"SchwarzschildSpacetimeKerrSchildCoordinates <: AbstractSchwarzschildSpacetime\n\nSchwarzschild spacetime in Kerr-Schild coordinates. The parameter M is the mass. The metric is\n\ng_mu nu = eta_mu nu + H l_mu l_nu\n\nwhere eta_mu nu is the flat metric, H=2Mr, and l_mu=(1xyz)r.\n\nExample\n\nSchwarzschildSpacetimeKerrSchildCoordinates(M=1.0)\n\n\n\n\n\n","category":"type"},{"location":"spacetimes/catalogue/#Skylight.SchwarzschildSpacetimeSphericalCoordinates","page":"Catalogue","title":"Skylight.SchwarzschildSpacetimeSphericalCoordinates","text":"SchwarzschildSpacetimeSphericalCoordinates <: AbstractSchwarzschildSpacetime\n\nSchwarzschild spacetime in spherical coordinates. The metric is\n\nds^2 = -(1-2Mr) dt^2 + (1-2Mr)^-1 dr^2 + r^2 dtheta^2 + r^2 sin^2 theta dphi^2\n\nExample\n\nSchwarzschildSpacetimeSphericalCoordinates(M=1.0)\n\n\n\n\n\n","category":"type"},{"location":"radiativetransfer/radiativetransfer/#Radiative-transfer","page":"Radiative transfer","title":"Radiative transfer","text":"","category":"section"},{"location":"contributing/#Contributing","page":"Contributing","title":"Contributing","text":"","category":"section"},{"location":"radiativemodels/radiativeprocesses/#Radiative-processes","page":"Radiative processes","title":"Radiative processes","text":"","category":"section"},{"location":"initialization/initialization/#Initialization","page":"Initial data","title":"Initialization","text":"","category":"section"},{"location":"radiativemodels/radiativemodels/#Radiative-models","page":"Radiative models","title":"Radiative models","text":"","category":"section"},{"location":"faq/#FAQ","page":"FAQ","title":"FAQ","text":"","category":"section"},{"location":"api/#API","page":"API","title":"API","text":"","category":"section"},{"location":"configurations/configurations/#Configurations","page":"Configurations","title":"Configurations","text":"","category":"section"},{"location":"miscellanea/misc/#Miscellanea","page":"Miscellanea","title":"Miscellanea","text":"","category":"section"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"In the observer-to-emitter scheme the initial momenta are past-directed and pointing inwards. This is valid because of the following reason. The Lioville vector field on the tangent bundle is the vector field which generates the geodesic flow. The component of this field along the fibers is invariant to sign inversion on the fiber. This means that the geodesic passing through the point (x^μk^μ) and the one passing through (x^μ-k^μ) project to the same curve on the base spacetime. We do it this way so the geodesic integrator kernel is common to both transport schemes. Otherwise, although the physical equations would be the same, the numerical integrators would be different because we would have to take backward steps in the observer-to-emitter case. Once we have the solutions, we invert the sign of k^μ when we use it elsewhere.  ispositionat_source should't be used in condition/affect. Its purpose is to classify the endstate of a geodesic already integrated, not to condition the geodesic integration.","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"Currently Christoffels assume the input array is filled with zeros","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"Callback params needs to have an rmax. Fix or make explicit.","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"Coordinates are assumed to be have either cartesian or spherical topology, and to be ordered like t, r, θ, φ or t, x, y, z. The first coordinate is assumed to be timelike, and the other three spatial.","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"AbstractAccretionDisk assumes innerradius and outerradius as fields.","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"The procedure is modularized sufficiently so that custom initial data can be provided as well to the integrator (as a (8, nrays) array)","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"The integrator can integrate geodesics of any kind (timelike and spacelike too)","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"You need invariant emissivity to work for vectors of energies Setting absorptovity function to nothing is equivalent to setting absorptivity to zero","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"The intensity integrated in non-vacuum is the invariant intensity","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"The non-vacuum transfer equations only work towards the past because of rest frame energy sign assumption","category":"page"},{"location":"miscellanea/misc/","page":"Miscellanea","title":"Miscellanea","text":"Observation energies in non-vacuum need to be their CGS values","category":"page"},{"location":"miscellanea/porting_from_c/#Tips-for-porting-a-metric-from-C","page":"Tips for porting a metric from C","title":"Tips for porting a metric from C","text":"","category":"section"},{"location":"miscellanea/porting_from_c/","page":"Tips for porting a metric from C","title":"Tips for porting a metric from C","text":"Change function to metric! and arguments to g, position, spacetime\nExtract t,x,y,z = position\nRemove all variable declarations\nRemove all remaining double\nRemove all ; (be careful there are no two or more commands in one line)\nReplace all // by  (checkout for C macros before)\nReplace result[i] by resulti\nUse regular expressions to replace pow(base, exp) as follows: 8.1. Find pow(([^,]),\\s([^)]+)) using Reg Ex 8.2. Replace by (1)^(2) \nReplace gcov by g (just for consistency)\nReplace return\" by return nothing\"\nRemove all unused variables \nIn case of keeping arrays, shift indexes because Julia is 1-based (whereas C is 0-based)  To do this you can search for the regular expression (\\w+)[\\s(\\d+)\\s] and replace by 12+1]  After that you can search all (1+1) and replace by 2 and so on.  In case there is [][] or other type of indexing you need to generalize the RegEx\nRemove final } and add end\nReplace ++ by +=1\nReplace integers that are used in ifs and whiles by booleans (or minimally you can change by e.g. while(keep_iterating==1)) and then replace keep_iterating=1 by keep_iterating=true and keep_iterating=0 by keep_iterating=false","category":"page"},{"location":"miscellanea/utils/#Utils","page":"Utils","title":"Utils","text":"","category":"section"},{"location":"usage/#How-to-use","page":"How to use","title":"How to use","text":"","category":"section"},{"location":"usage/#Units","page":"How to use","title":"Units","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"Skylight uses geometrized units c = G = 1.","category":"page"},{"location":"usage/#Spacetimes","page":"How to use","title":"Spacetimes","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"First, you have to choose a spacetime (and coordinates topology). Currently, the available options are:","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"MinkowskiSpacetimeCartesianCoordinates\nMinkowskiSpacetimeSphericalCoordinates\nSchwarzschildSpacetimeKerrSchildCoordinates\nSchwarzschildSpacetimeSphericalCoordinates\nKerrSpacetimeKerrSchildCoordinates\nKerrSpacetimeBoyerLindquistCoordinates\nFRKerrSpacetime\nJohannsenSpacetime\nRARSpacetime\nBosonStarSpacetime\nChargedWormholeSphericalCoordinates\nChargedWormholeRegularCoordinates","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"Some spacetimes depends on a set of parameters and others have no parameters. For example, to instantiate a Kerr spacetime in Kerr-Schild coordinates with mass M=1 and spin aM=05, run ","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"spacetime = KerrSpacetimeKerrSchildCoordinate(M=1.0,a=0.5)","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"Spacetimes without parameters are instantiated just like","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"spacetime = MinkowskiSpacetimeCartesianCoordinates()","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"For more details about the spacetimes and the parameters they need, see the Spacetimes section of the documentation.","category":"page"},{"location":"usage/#Radiative-models","page":"How to use","title":"Radiative models","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"The currently available radiative models are:","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"ShakuraSunyaevAccretionDisk (provisory temperature profile)\nNovikovThorneAccretionDisk (provisory temperature profile)\nRARAccretionDisk\nAccretionDiskWithTabulatedTemperature\nSyntheticPolarCap","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"The following will be implemented soon:","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"StarAcrossWormhole\nBogdanovPolarCap\nOnionHotSpots\nBlackHoleCorona","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"Radiative models also depend on a set of parameters. To construct a synthetic polar cap, for example ","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"model = Skylight.SyntheticPolarCap(star_radius=5.0,\n                                          angular_speed = 0.05, \n                                          misalignment_angle_in_degrees=90,\n                                          angular_radius_in_degrees=60, \n                                          temperature=1.0)","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"For the details, see the radiative models documentation. ","category":"page"},{"location":"usage/#Image-plane","page":"How to use","title":"Image plane","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"For the observet-to-emitter scheme, use the following to construct an image plane","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"camera = ImagePlane(distance = 500.0,\n                                observer_inclination_in_degrees = 45,\n                                horizontal_side = 10.0,\n                                vertical_side = 10.0,\n                                horizontal_number_of_pixels = 600,\n                                vertical_number_of_pixels = 600,\n                                observation_times = [0.0,1.0])","category":"page"},{"location":"usage/#Pinhole-camera","page":"How to use","title":"Pinhole camera","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"More generally, when asymptotic flatness isn't valid, or simply the observer is not located far away enough, a pinhole camera can be used. It can be constructed, for instance, as","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"camera = PinholeCamera(position = [0.0, 500, π/2-π/20, 0.0],\n                        horizontal_aperture_in_degrees = rad2deg(315/500),\n                        vertical_aperture_in_degrees = rad2deg(315/500),\n                        horizontal_number_of_pixels = 600,\n                        vertical_number_of_pixels = 600)","category":"page"},{"location":"usage/#Configurations","page":"How to use","title":"Configurations","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"The initial data configurations in the observer-to-emitter scheme are constructed as follows","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"configurations = VacuumOTEConfigurations(spacetime=spacetime,\n                                        radiative_model=model,\n                                        camera = camera,\n                                        unit_mass_in_solar_masses = 1.0)","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"where unit_mass_in_solar_masses is the unit mass in solar masses which determines fully the problem units together with c=G=1.","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"In the emitter-to-observer scheme, use the following","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"julia> configurations = VacuumETOConfigurations(spacetime=spacetime,\n                                                     radiative_model=model,\n                                                     number_of_points = 100\n                                                     number_of_packets_per_point = 100, max_radius = 500.0)","category":"page"},{"location":"usage/#Initial-data","page":"How to use","title":"Initial data","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"Finally, for creating the initial data, use","category":"page"},{"location":"usage/","page":"How to use","title":"How to use","text":"initial_data = initialize(configurations)","category":"page"},{"location":"usage/#Geodesics","page":"How to use","title":"Geodesics","text":"","category":"section"},{"location":"usage/","page":"How to use","title":"How to use","text":"Or you can specify another callback or method by...","category":"page"},{"location":"initialization/pinholecamera/#Pinhole-camera","page":"Pinhole camera","title":"Pinhole camera","text":"","category":"section"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"The energy momentum tensor of the radiation field in terms of the specific intensity is given by","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{ab} = \\int k^a k^b \\left( \\frac{I\\nu}{\\nu^3} \\right) dVk  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where dV_k = nu dnu dOmega. Equivalently,","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{a b} = \\int{S^2} \\int0^\\infty n^a n^b I_\\nu d\\nu d\\Omega  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where n^a = k^a  nu. The radiative flux of energy in the direction of barn^a measured by an osberver with four-velocity u^a is T^a b u_a barn_b.","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"For discretizing this integral at position x^mu, we choose an orthonormal tetrad. We take $ e0 = \\partialt \\\ne1 = -\\partialr \\\ne2 = \\partial\\phi \\\ne3 = -\\partial\\theta \\\n$ and orthonormalize it with respect to g_alpha beta(x^mu), where (rtheta phi) are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate t and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: e_1 points towards the origin, e_2 is parallel to the equatorial plane and e_3 is parallel to the z-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around e_1. Finally, we take coordinates (alpha beta) on S^2 such that  $ \\alpha = \\varphi \\\n\\beta = \\pi/2 -{\\vartheta} $ where (vartheta varphi) are the usual angular coordinates on S^2. The coordinates range over -π le alpha lt pi and -pi2 le beta le pi2. The tetrad components of a vector in these coordinates can be written as $ k^0 = \\nu \\  k^1 = \\nu \\cos \\alpha \\cos \\beta \\\nk^2 = \\nu \\sin \\alpha \\cos \\beta \\\nk^3 = \\nu \\sin \\beta  $ ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Thus, in particular (alpha beta) = (00) maps to e_1. In these coordinates, dOmega = cos beta dalpha dbeta. We only need to take the (alpha beta) coordinate ranges large enough to cover the image of the emitting source. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Finally, we approximate the integral numerically as","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"\\sum{i j k} I{ijk} n^a{ij} n^b{ij} \\Delta \\Omega_{ij} \\Delta \\nu \\, ,     $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where I_ijk = I_nu_k(n^a_ij), the tetrad components of n^a_ij are  $ [1, \\cos \\alphai \\cos \\betaj, \\sin \\alphai \\cos \\betaj, \\sin \\betaj]\\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \\Delta \\Omega{ij} = \\int{D{ij}} \\cos \\beta d\\alpha d\\beta = 2 \\cos(\\betaj) \\sin \\left(\\frac{\\Delta \\beta}{2} \\right) \\Delta \\alpha, $ and D{ij} = [\\alphai-\\Delta \\alpha/2, \\alphai+\\Delta \\alpha/2] \\times [\\betaj - \\Delta \\beta / 2, \\betaj + \\Delta \\beta /2]$. We took a uniform grid such that  $ \\alphai = -s\\alpha/2+(i-1/2)\\Delta \\alpha \\  \\betaj = -s\\beta/2+(j-1/2)\\Delta \\beta \\\n\\Delta \\alpha = s\\alpha/N\\alpha \\\n\\Delta \\beta = s\\beta/N\\beta \\\n1 \\le i \\le N\\alpha \\  1 \\le j \\le N\\beta $. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where s_alpha s_beta are the horizontal and vertical aperture angles respectively, and N_alpha, N_beta are the numbers of pixels. The total solid angle is Delta Omega = 2 sin(s_beta2)s_alpha   The energy momentum tensor of the radiation field in terms of the specific intensity is given by","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{ab} = \\int k^a k^b \\left( \\frac{I\\nu}{\\nu^3} \\right) dVk  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where dV_k = nu dnu dOmega. Equivalently,","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{a b} = \\int{S^2} \\int0^\\infty n^a n^b I_\\nu d\\nu d\\Omega  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where n^a = k^a  nu. The radiative flux of energy in the direction of barn^a measured by an osberver with four-velocity u^a is T^a b u_a barn_b.","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"For discretizing this integral at position x^mu, we choose an orthonormal tetrad. We take $ e0 = \\partialt \\\ne1 = -\\partialr \\\ne2 = \\partial\\phi \\\ne3 = -\\partial\\theta \\\n$ and orthonormalize it with respect to g_alpha beta(x^mu), where (rtheta phi) are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate t and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: e_1 points towards the origin, e_2 is parallel to the equatorial plane and e_3 is parallel to the z-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around e_1. Finally, we take coordinates (alpha beta) on S^2 such that  $ \\alpha = \\varphi \\\n\\beta = \\pi/2 -{\\vartheta} $ where (vartheta varphi) are the usual angular coordinates on S^2. The coordinates range over -π le alpha lt pi and -pi2 le beta le pi2. The tetrad components of a vector in these coordinates can be written as $ k^0 = \\nu \\  k^1 = \\nu \\cos \\alpha \\cos \\beta \\\nk^2 = \\nu \\sin \\alpha \\cos \\beta \\\nk^3 = \\nu \\sin \\beta  $ ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Thus, in particular (alpha beta) = (00) maps to e_1. In these coordinates, dOmega = cos beta dalpha dbeta. We only need to take the (alpha beta) coordinate ranges large enough to cover the image of the emitting source. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Finally, we approximate the integral numerically as","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"\\sum{i j k} I{ijk} n^a{ij} n^b{ij} \\Delta \\Omega_{ij} \\Delta \\nu \\, ,     $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where I_ijk = I_nu_k(n^a_ij), the tetrad components of n^a_ij are  $ [1, \\cos \\alphai \\cos \\betaj, \\sin \\alphai \\cos \\betaj, \\sin \\betaj]\\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \\Delta \\Omega{ij} = \\int{D{ij}} \\cos \\beta d\\alpha d\\beta = 2 \\cos(\\betaj) \\sin \\left(\\frac{\\Delta \\beta}{2} \\right) \\Delta \\alpha, $ and D{ij} = [\\alphai-\\Delta \\alpha/2, \\alphai+\\Delta \\alpha/2] \\times [\\betaj - \\Delta \\beta / 2, \\betaj + \\Delta \\beta /2]$. We took a uniform grid such that  $ \\alphai = -s\\alpha/2+(i-1/2)\\Delta \\alpha \\  \\betaj = -s\\beta/2+(j-1/2)\\Delta \\beta \\\n\\Delta \\alpha = s\\alpha/N\\alpha \\\n\\Delta \\beta = s\\beta/N\\beta \\\n1 \\le i \\le N\\alpha \\  1 \\le j \\le N\\beta $. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where s_alpha s_beta are the horizontal and vertical aperture angles respectively, and N_alpha, N_beta are the numbers of pixels. The total solid angle is Delta Omega = 2 sin(s_beta2)s_alpha   The energy momentum tensor of the radiation field in terms of the specific intensity is given by","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{ab} = \\int k^a k^b \\left( \\frac{I\\nu}{\\nu^3} \\right) dVk  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where dV_k = nu dnu dOmega. Equivalently,","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{a b} = \\int{S^2} \\int0^\\infty n^a n^b I_\\nu d\\nu d\\Omega  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where n^a = k^a  nu. The radiative flux of energy in the direction of barn^a measured by an osberver with four-velocity u^a is T^a b u_a barn_b.","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"For discretizing this integral at position x^mu, we choose an orthonormal tetrad. We take $ e0 = \\partialt \\\ne1 = -\\partialr \\\ne2 = \\partial\\phi \\\ne3 = -\\partial\\theta \\\n$ and orthonormalize it with respect to g_alpha beta(x^mu), where (rtheta phi) are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate t and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: e_1 points towards the origin, e_2 is parallel to the equatorial plane and e_3 is parallel to the z-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around e_1. Finally, we take coordinates (alpha beta) on S^2 such that  $ \\alpha = \\varphi \\\n\\beta = \\pi/2 -{\\vartheta} $ where (vartheta varphi) are the usual angular coordinates on S^2. The coordinates range over -π le alpha lt pi and -pi2 le beta le pi2. The tetrad components of a vector in these coordinates can be written as $ k^0 = \\nu \\  k^1 = \\nu \\cos \\alpha \\cos \\beta \\\nk^2 = \\nu \\sin \\alpha \\cos \\beta \\\nk^3 = \\nu \\sin \\beta  $ ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Thus, in particular (alpha beta) = (00) maps to e_1. In these coordinates, dOmega = cos beta dalpha dbeta. We only need to take the (alpha beta) coordinate ranges large enough to cover the image of the emitting source. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Finally, we approximate the integral numerically as","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"\\sum{i j k} I{ijk} n^a{ij} n^b{ij} \\Delta \\Omega_{ij} \\Delta \\nu \\, ,     $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where I_ijk = I_nu_k(n^a_ij), the tetrad components of n^a_ij are  $ [1, \\cos \\alphai \\cos \\betaj, \\sin \\alphai \\cos \\betaj, \\sin \\betaj]\\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \\Delta \\Omega{ij} = \\int{D{ij}} \\cos \\beta d\\alpha d\\beta = 2 \\cos(\\betaj) \\sin \\left(\\frac{\\Delta \\beta}{2} \\right) \\Delta \\alpha, $ and D{ij} = [\\alphai-\\Delta \\alpha/2, \\alphai+\\Delta \\alpha/2] \\times [\\betaj - \\Delta \\beta / 2, \\betaj + \\Delta \\beta /2]$. We took a uniform grid such that  $ \\alphai = -s\\alpha/2+(i-1/2)\\Delta \\alpha \\  \\betaj = -s\\beta/2+(j-1/2)\\Delta \\beta \\\n\\Delta \\alpha = s\\alpha/N\\alpha \\\n\\Delta \\beta = s\\beta/N\\beta \\\n1 \\le i \\le N\\alpha \\  1 \\le j \\le N\\beta $. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where s_alpha s_beta are the horizontal and vertical aperture angles respectively, and N_alpha, N_beta are the numbers of pixels. The total solid angle is Delta Omega = 2 sin(s_beta2)s_alpha   The energy momentum tensor of the radiation field in terms of the specific intensity is given by","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{ab} = \\int k^a k^b \\left( \\frac{I\\nu}{\\nu^3} \\right) dVk  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where dV_k = nu dnu dOmega. Equivalently,","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{a b} = \\int{S^2} \\int0^\\infty n^a n^b I_\\nu d\\nu d\\Omega  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where n^a = k^a  nu. The radiative flux of energy in the direction of barn^a measured by an osberver with four-velocity u^a is T^a b u_a barn_b.","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"For discretizing this integral at position x^mu, we choose an orthonormal tetrad. We take $ e0 = \\partialt \\\ne1 = -\\partialr \\\ne2 = \\partial\\phi \\\ne3 = -\\partial\\theta \\\n$ and orthonormalize it with respect to g_alpha beta(x^mu), where (rtheta phi) are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate t and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: e_1 points towards the origin, e_2 is parallel to the equatorial plane and e_3 is parallel to the z-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around e_1. Finally, we take coordinates (alpha beta) on S^2 such that  $ \\alpha = \\varphi \\\n\\beta = \\pi/2 -{\\vartheta} $ where (vartheta varphi) are the usual angular coordinates on S^2. The coordinates range over -π le alpha lt pi and -pi2 le beta le pi2. The tetrad components of a vector in these coordinates can be written as $ k^0 = \\nu \\  k^1 = \\nu \\cos \\alpha \\cos \\beta \\\nk^2 = \\nu \\sin \\alpha \\cos \\beta \\\nk^3 = \\nu \\sin \\beta  $ ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Thus, in particular (alpha beta) = (00) maps to e_1. In these coordinates, dOmega = cos beta dalpha dbeta. We only need to take the (alpha beta) coordinate ranges large enough to cover the image of the emitting source. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Finally, we approximate the integral numerically as","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"\\sum{i j k} I{ijk} n^a{ij} n^b{ij} \\Delta \\Omega_{ij} \\Delta \\nu \\, ,     $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where I_ijk = I_nu_k(n^a_ij), the tetrad components of n^a_ij are  $ [1, \\cos \\alphai \\cos \\betaj, \\sin \\alphai \\cos \\betaj, \\sin \\betaj]\\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \\Delta \\Omega{ij} = \\int{D{ij}} \\cos \\beta d\\alpha d\\beta = 2 \\cos(\\betaj) \\sin \\left(\\frac{\\Delta \\beta}{2} \\right) \\Delta \\alpha, $ and D{ij} = [\\alphai-\\Delta \\alpha/2, \\alphai+\\Delta \\alpha/2] \\times [\\betaj - \\Delta \\beta / 2, \\betaj + \\Delta \\beta /2]$. We took a uniform grid such that  $ \\alphai = -s\\alpha/2+(i-1/2)\\Delta \\alpha \\  \\betaj = -s\\beta/2+(j-1/2)\\Delta \\beta \\\n\\Delta \\alpha = s\\alpha/N\\alpha \\\n\\Delta \\beta = s\\beta/N\\beta \\\n1 \\le i \\le N\\alpha \\  1 \\le j \\le N\\beta $. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where s_alpha s_beta are the horizontal and vertical aperture angles respectively, and N_alpha, N_beta are the numbers of pixels. The total solid angle is Delta Omega = 2 sin(s_beta2)s_alpha   The energy momentum tensor of the radiation field in terms of the specific intensity is given by","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{ab} = \\int k^a k^b \\left( \\frac{I\\nu}{\\nu^3} \\right) dVk  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where dV_k = nu dnu dOmega. Equivalently,","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"T^{a b} = \\int{S^2} \\int0^\\infty n^a n^b I_\\nu d\\nu d\\Omega  $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where n^a = k^a  nu. The radiative flux of energy in the direction of barn^a measured by an osberver with four-velocity u^a is T^a b u_a barn_b.","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"For discretizing this integral at position x^mu, we choose an orthonormal tetrad. We take $ e0 = \\partialt \\\ne1 = -\\partialr \\\ne2 = \\partial\\phi \\\ne3 = -\\partial\\theta \\\n$ and orthonormalize it with respect to g_alpha beta(x^mu), where (rtheta phi) are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate t and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: e_1 points towards the origin, e_2 is parallel to the equatorial plane and e_3 is parallel to the z-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around e_1. Finally, we take coordinates (alpha beta) on S^2 such that  $ \\alpha = \\varphi \\\n\\beta = \\pi/2 -{\\vartheta} $ where (vartheta varphi) are the usual angular coordinates on S^2. The coordinates range over -π le alpha lt pi and -pi2 le beta le pi2. The tetrad components of a vector in these coordinates can be written as $ k^0 = \\nu \\  k^1 = \\nu \\cos \\alpha \\cos \\beta \\\nk^2 = \\nu \\sin \\alpha \\cos \\beta \\\nk^3 = \\nu \\sin \\beta  $ ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Thus, in particular (alpha beta) = (00) maps to e_1. In these coordinates, dOmega = cos beta dalpha dbeta. We only need to take the (alpha beta) coordinate ranges large enough to cover the image of the emitting source. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"Finally, we approximate the integral numerically as","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"$","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"\\sum{i j k} I{ijk} n^a{ij} n^b{ij} \\Delta \\Omega_{ij} \\Delta \\nu \\, ,     $","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where I_ijk = I_nu_k(n^a_ij), the tetrad components of n^a_ij are  $ [1, \\cos \\alphai \\cos \\betaj, \\sin \\alphai \\cos \\betaj, \\sin \\betaj]\\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \\Delta \\Omega{ij} = \\int{D{ij}} \\cos \\beta d\\alpha d\\beta = 2 \\cos(\\betaj) \\sin \\left(\\frac{\\Delta \\beta}{2} \\right) \\Delta \\alpha, $ and D{ij} = [\\alphai-\\Delta \\alpha/2, \\alphai+\\Delta \\alpha/2] \\times [\\betaj - \\Delta \\beta / 2, \\betaj + \\Delta \\beta /2]$. We took a uniform grid such that  $ \\alphai = -s\\alpha/2+(i-1/2)\\Delta \\alpha \\  \\betaj = -s\\beta/2+(j-1/2)\\Delta \\beta \\\n\\Delta \\alpha = s\\alpha/N\\alpha \\\n\\Delta \\beta = s\\beta/N\\beta \\\n1 \\le i \\le N\\alpha \\  1 \\le j \\le N\\beta $. ","category":"page"},{"location":"initialization/pinholecamera/","page":"Pinhole camera","title":"Pinhole camera","text":"where s_alpha s_beta are the horizontal and vertical aperture angles respectively, and N_alpha, N_beta are the numbers of pixels. The total solid angle is Delta Omega = 2 sin(s_beta2)s_alpha","category":"page"},{"location":"#Skylight.jl","page":"Home","title":"Skylight.jl","text":"","category":"section"},{"location":"#Docs-under-construction...","page":"Home","title":"Docs under construction...","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Skylight.Skylight","category":"page"},{"location":"#Skylight.Skylight","page":"Home","title":"Skylight.Skylight","text":"Skylight.jl is an extensible package for general-relativistic ray tracing and radiative transfer in arbitrary spacetimes and radiative models.\n\n\n\n\n\n","category":"module"},{"location":"citing/#Citing","page":"Citing","title":"Citing","text":"","category":"section"}]
}
