<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pinhole camera · Skylight</title><meta name="title" content="Pinhole camera · Skylight"/><meta property="og:title" content="Pinhole camera · Skylight"/><meta property="twitter:title" content="Pinhole camera · Skylight"/><meta name="description" content="Documentation for Skylight."/><meta property="og:description" content="Documentation for Skylight."/><meta property="twitter:description" content="Documentation for Skylight."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Skylight logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Skylight</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../gettingstarted/">Getting started</a></li><li><span class="tocitem">Spacetimes</span><ul><li><a class="tocitem" href="../../spacetimes/catalogue/">Catalogue</a></li><li><a class="tocitem" href="../../spacetimes/functions/">Geometric functions</a></li></ul></li><li><span class="tocitem">Radiative models</span><ul><li><a class="tocitem" href="../../radiativemodels/catalogue/">Catalogue</a></li><li><a class="tocitem" href="../../radiativemodels/functions/">Radiative functions</a></li></ul></li><li><a class="tocitem" href="../../configurations/configurations/">Configurations</a></li><li><span class="tocitem">Initial data</span><ul><li class="is-active"><a class="tocitem" href>Pinhole camera</a></li><li><a class="tocitem" href="../initialization/">Initialization</a></li></ul></li><li><a class="tocitem" href="../../radiativetransfer/radiativetransfer/">Radiative transfer</a></li><li><span class="tocitem">Postprocess</span><ul><li><a class="tocitem" href="../../postprocess/images/">Images</a></li><li><a class="tocitem" href="../../postprocess/spectra/">Spectra</a></li><li><a class="tocitem" href="../../postprocess/lineemission/">Line emission</a></li><li><a class="tocitem" href="../../postprocess/lightcurves/">Light curves</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/disk_kerr/">Thin disk around a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/corona_kerr/">Lamppost corona above a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/torus_kerr/">Ion torus around a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/frkerr/">f(R)-Kerr black hole</a></li><li><a class="tocitem" href="../../examples/johannsen/">Johannsen black hole</a></li><li><a class="tocitem" href="../../examples/bosonstar/">Boson star</a></li><li><a class="tocitem" href="../../examples/chargedwormhole/">Star across charged wormhole</a></li><li><a class="tocitem" href="../../examples/rar/">RAR galactic core</a></li><li><a class="tocitem" href="../../examples/skylightlogo/">Skylight logo</a></li></ul></li><li><span class="tocitem">Utils</span><ul><li><a class="tocitem" href="../../utils/geometry/">Geometry and linear algebra</a></li><li><a class="tocitem" href="../../utils/vectorfields/">Vector fields</a></li><li><a class="tocitem" href="../../utils/constants/">Constants</a></li><li><a class="tocitem" href="../../utils/units/">Units and dimensions</a></li></ul></li><li><span class="tocitem">Developers</span><ul><li><a class="tocitem" href="../../developers/spacetimes/">Adding a spacetime</a></li><li><a class="tocitem" href="../../developers/radiativemodels/">Adding a radiative model</a></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li><li><a class="tocitem" href="../../publications/">Publications</a></li><li><a class="tocitem" href="../../citing/">Citing</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Initial data</a></li><li class="is-active"><a href>Pinhole camera</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pinhole camera</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/joaquinpelle/Skylight.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/joaquinpelle/Skylight.jl/blob/main/docs/src/initialization/pinholecamera.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Pinhole-camera"><a class="docs-heading-anchor" href="#Pinhole-camera">Pinhole camera</a><a id="Pinhole-camera-1"></a><a class="docs-heading-anchor-permalink" href="#Pinhole-camera" title="Permalink"></a></h1><p>The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p><p class="math-container">\[T^{ab} = \int k^a k^b \left( \frac{I_\nu}{\nu^3} \right) dV_k \]</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p><p class="math-container">\[T^{a b} = \int_{S^2} \int_0^\infty n^a n^b I_\nu d\nu d\Omega \]</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take</p><p class="math-container">\[e_0 = \partial_t \\
e_1 = -\partial_r \\
e_2 = \partial_\phi \\
e_3 = -\partial_\theta \\\]</p><p>and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is in the azimuthal direction, and <span>$e_3$</span> is in the polar direction. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that </p><p class="math-container">\[\alpha = \varphi \\
\beta = \pi/2 -{\vartheta}\]</p><p>where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as</p><p class="math-container">\[k^0 = \nu \\ 
k^1 = \nu \cos \alpha \cos \beta \\
k^2 = \nu \sin \alpha \cos \beta \\
k^3 = \nu \sin \beta \]</p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p><p class="math-container">\[\sum_{i j k} I_{ijk} n^a_{ij} n^b_{ij} \Delta \Omega_{ij} \Delta \nu \, ,    \]</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are </p><p class="math-container">\[[1, \cos \alpha_i \cos \beta_j, \sin \alpha_i \cos \beta_j, \sin \beta_j]\, ,\]</p><p>(we have to transform them to the coordinate frame before contraction), the solid angle of each section is</p><p class="math-container">\[\Delta \Omega_{ij} = \int_{D_{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta_j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha,\]</p><p>and <span>$D_{ij} = [\alpha_i-\Delta \alpha/2, \alpha_i+\Delta \alpha/2] \times [\beta_j - \Delta \beta / 2, \beta_j + \Delta \beta /2]$</span>. We took a uniform grid such that </p><p class="math-container">\[\alpha_i = -s_\alpha/2+(i-1/2)\Delta \alpha \\ 
\beta_j = -s_\beta/2+(j-1/2)\Delta \beta \\
\Delta \alpha = s_\alpha/N_\alpha \\
\Delta \beta = s_\beta/N_\beta \\
1 \le i \le N_\alpha \\ 
1 \le j \le N_\beta\]</p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../configurations/configurations/">« Configurations</a><a class="docs-footer-nextpage" href="../initialization/">Initialization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Thursday 4 July 2024 20:43">Thursday 4 July 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
