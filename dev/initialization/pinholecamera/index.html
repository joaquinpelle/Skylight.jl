<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pinhole camera · Skylight</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Skylight</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../gettingstarted/">Getting started</a></li><li><span class="tocitem">Spacetimes</span><ul><li><a class="tocitem" href="../../spacetimes/catalogue/">Catalogue</a></li><li><a class="tocitem" href="../../spacetimes/functions/">Functions</a></li><li><a class="tocitem" href="../../spacetimes/symmetries/">Symmetries and constants of motion</a></li></ul></li><li><span class="tocitem">Radiative models</span><ul><li><a class="tocitem" href="../../radiativemodels/catalogue/">Catalogue</a></li><li><a class="tocitem" href="../../radiativemodels/functions/">Functions</a></li><li><a class="tocitem" href="../../radiativemodels/radiativeprocesses/">Radiative processes</a></li></ul></li><li><a class="tocitem" href="../../configurations/configurations/">Configurations</a></li><li><a class="tocitem" href="../initialization/">Initial data</a></li><li><a class="tocitem" href="../../radiativetransfer/radiativetransfer/">Radiative transfer</a></li><li><span class="tocitem">Postprocess</span><ul><li><a class="tocitem" href="../../postprocess/images/">Images</a></li><li><a class="tocitem" href="../../postprocess/spectra/">Spectra</a></li><li><a class="tocitem" href="../../postprocess/lineemission/">Line emission</a></li><li><a class="tocitem" href="../../postprocess/lightcurves/">Light curves</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/disk_kerr/">Thin disk around a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/corona_kerr/">Lamppost corona above a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/torus_kerr/">Ion torus around a Kerr black hole</a></li><li><a class="tocitem" href="../../examples/frkerr/">f(R)-Kerr black hole</a></li><li><a class="tocitem" href="../../examples/johannsen/">Johannsen black hole</a></li><li><a class="tocitem" href="../../examples/bosonstar/">Boson star</a></li><li><a class="tocitem" href="../../examples/chargedwormhole/">Star across charged wormhole</a></li><li><a class="tocitem" href="../../examples/rar/">RAR galactic core</a></li></ul></li><li><span class="tocitem">Utils</span><ul><li><a class="tocitem" href="../../utils/geometry/">Geometry and linear algebra</a></li><li><a class="tocitem" href="../../utils/vectorfields/">Vector fields</a></li><li><a class="tocitem" href="../../utils/constants/">Constants</a></li><li><a class="tocitem" href="../../utils/units/">Units and dimensions</a></li></ul></li><li><span class="tocitem">Developers</span><ul><li><a class="tocitem" href="../../developers/spacetimes/">Adding a spacetime</a></li><li><a class="tocitem" href="../../developers/radiativemodels/">Adding a radiative model</a></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li><li><a class="tocitem" href="../../citing/">Citing</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Pinhole camera</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pinhole camera</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/joaquinpelle/Skylight.jl/blob/main/docs/src/initialization/pinholecamera.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Pinhole-camera"><a class="docs-heading-anchor" href="#Pinhole-camera">Pinhole camera</a><a id="Pinhole-camera-1"></a><a class="docs-heading-anchor-permalink" href="#Pinhole-camera" title="Permalink"></a></h1><p>The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p>$<p>T^{ab} = \int k^a k^b \left( \frac{I<em>\nu}{\nu^3} \right) dV</em>k  $</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p>$<p>T^{a b} = \int<em>{S^2} \int</em>0^\infty n^a n^b I_\nu d\nu d\Omega  $</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take $ e<em>0 = \partial</em>t \
e<em>1 = -\partial</em>r \
e<em>2 = \partial</em>\phi \
e<em>3 = -\partial</em>\theta \
$ and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is parallel to the equatorial plane and <span>$e_3$</span> is parallel to the <span>$z$</span>-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that  $ \alpha = \varphi \
\beta = \pi/2 -{\vartheta} $ where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as $ k^0 = \nu \  k^1 = \nu \cos \alpha \cos \beta \
k^2 = \nu \sin \alpha \cos \beta \
k^3 = \nu \sin \beta  $ </p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p>$<p>\sum<em>{i j k} I</em>{ijk} n^a<em>{ij} n^b</em>{ij} \Delta \Omega_{ij} \Delta \nu \, ,     $</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are  $ [1, \cos \alpha<em>i \cos \beta</em>j, \sin \alpha<em>i \cos \beta</em>j, \sin \beta<em>j]\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \Delta \Omega</em>{ij} = \int<em>{D</em>{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta<em>j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha, $ and D</em>{ij} = [\alpha<em>i-\Delta \alpha/2, \alpha</em>i+\Delta \alpha/2] \times [\beta<em>j - \Delta \beta / 2, \beta</em>j + \Delta \beta /2]$. We took a uniform grid such that  $ \alpha<em>i = -s</em>\alpha/2+(i-1/2)\Delta \alpha \  \beta<em>j = -s</em>\beta/2+(j-1/2)\Delta \beta \
\Delta \alpha = s<em>\alpha/N</em>\alpha \
\Delta \beta = s<em>\beta/N</em>\beta \
1 \le i \le N<em>\alpha \  1 \le j \le N</em>\beta $. </p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span>   The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p>$<p>T^{ab} = \int k^a k^b \left( \frac{I<em>\nu}{\nu^3} \right) dV</em>k  $</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p>$<p>T^{a b} = \int<em>{S^2} \int</em>0^\infty n^a n^b I_\nu d\nu d\Omega  $</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take $ e<em>0 = \partial</em>t \
e<em>1 = -\partial</em>r \
e<em>2 = \partial</em>\phi \
e<em>3 = -\partial</em>\theta \
$ and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is parallel to the equatorial plane and <span>$e_3$</span> is parallel to the <span>$z$</span>-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that  $ \alpha = \varphi \
\beta = \pi/2 -{\vartheta} $ where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as $ k^0 = \nu \  k^1 = \nu \cos \alpha \cos \beta \
k^2 = \nu \sin \alpha \cos \beta \
k^3 = \nu \sin \beta  $ </p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p>$<p>\sum<em>{i j k} I</em>{ijk} n^a<em>{ij} n^b</em>{ij} \Delta \Omega_{ij} \Delta \nu \, ,     $</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are  $ [1, \cos \alpha<em>i \cos \beta</em>j, \sin \alpha<em>i \cos \beta</em>j, \sin \beta<em>j]\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \Delta \Omega</em>{ij} = \int<em>{D</em>{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta<em>j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha, $ and D</em>{ij} = [\alpha<em>i-\Delta \alpha/2, \alpha</em>i+\Delta \alpha/2] \times [\beta<em>j - \Delta \beta / 2, \beta</em>j + \Delta \beta /2]$. We took a uniform grid such that  $ \alpha<em>i = -s</em>\alpha/2+(i-1/2)\Delta \alpha \  \beta<em>j = -s</em>\beta/2+(j-1/2)\Delta \beta \
\Delta \alpha = s<em>\alpha/N</em>\alpha \
\Delta \beta = s<em>\beta/N</em>\beta \
1 \le i \le N<em>\alpha \  1 \le j \le N</em>\beta $. </p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span>   The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p>$<p>T^{ab} = \int k^a k^b \left( \frac{I<em>\nu}{\nu^3} \right) dV</em>k  $</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p>$<p>T^{a b} = \int<em>{S^2} \int</em>0^\infty n^a n^b I_\nu d\nu d\Omega  $</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take $ e<em>0 = \partial</em>t \
e<em>1 = -\partial</em>r \
e<em>2 = \partial</em>\phi \
e<em>3 = -\partial</em>\theta \
$ and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is parallel to the equatorial plane and <span>$e_3$</span> is parallel to the <span>$z$</span>-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that  $ \alpha = \varphi \
\beta = \pi/2 -{\vartheta} $ where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as $ k^0 = \nu \  k^1 = \nu \cos \alpha \cos \beta \
k^2 = \nu \sin \alpha \cos \beta \
k^3 = \nu \sin \beta  $ </p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p>$<p>\sum<em>{i j k} I</em>{ijk} n^a<em>{ij} n^b</em>{ij} \Delta \Omega_{ij} \Delta \nu \, ,     $</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are  $ [1, \cos \alpha<em>i \cos \beta</em>j, \sin \alpha<em>i \cos \beta</em>j, \sin \beta<em>j]\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \Delta \Omega</em>{ij} = \int<em>{D</em>{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta<em>j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha, $ and D</em>{ij} = [\alpha<em>i-\Delta \alpha/2, \alpha</em>i+\Delta \alpha/2] \times [\beta<em>j - \Delta \beta / 2, \beta</em>j + \Delta \beta /2]$. We took a uniform grid such that  $ \alpha<em>i = -s</em>\alpha/2+(i-1/2)\Delta \alpha \  \beta<em>j = -s</em>\beta/2+(j-1/2)\Delta \beta \
\Delta \alpha = s<em>\alpha/N</em>\alpha \
\Delta \beta = s<em>\beta/N</em>\beta \
1 \le i \le N<em>\alpha \  1 \le j \le N</em>\beta $. </p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span>   The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p>$<p>T^{ab} = \int k^a k^b \left( \frac{I<em>\nu}{\nu^3} \right) dV</em>k  $</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p>$<p>T^{a b} = \int<em>{S^2} \int</em>0^\infty n^a n^b I_\nu d\nu d\Omega  $</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take $ e<em>0 = \partial</em>t \
e<em>1 = -\partial</em>r \
e<em>2 = \partial</em>\phi \
e<em>3 = -\partial</em>\theta \
$ and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is parallel to the equatorial plane and <span>$e_3$</span> is parallel to the <span>$z$</span>-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that  $ \alpha = \varphi \
\beta = \pi/2 -{\vartheta} $ where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as $ k^0 = \nu \  k^1 = \nu \cos \alpha \cos \beta \
k^2 = \nu \sin \alpha \cos \beta \
k^3 = \nu \sin \beta  $ </p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p>$<p>\sum<em>{i j k} I</em>{ijk} n^a<em>{ij} n^b</em>{ij} \Delta \Omega_{ij} \Delta \nu \, ,     $</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are  $ [1, \cos \alpha<em>i \cos \beta</em>j, \sin \alpha<em>i \cos \beta</em>j, \sin \beta<em>j]\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \Delta \Omega</em>{ij} = \int<em>{D</em>{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta<em>j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha, $ and D</em>{ij} = [\alpha<em>i-\Delta \alpha/2, \alpha</em>i+\Delta \alpha/2] \times [\beta<em>j - \Delta \beta / 2, \beta</em>j + \Delta \beta /2]$. We took a uniform grid such that  $ \alpha<em>i = -s</em>\alpha/2+(i-1/2)\Delta \alpha \  \beta<em>j = -s</em>\beta/2+(j-1/2)\Delta \beta \
\Delta \alpha = s<em>\alpha/N</em>\alpha \
\Delta \beta = s<em>\beta/N</em>\beta \
1 \le i \le N<em>\alpha \  1 \le j \le N</em>\beta $. </p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span>   The energy momentum tensor of the radiation field in terms of the specific intensity is given by</p>$<p>T^{ab} = \int k^a k^b \left( \frac{I<em>\nu}{\nu^3} \right) dV</em>k  $</p><p>where <span>$dV_k = \nu d\nu d\Omega$</span>. Equivalently,</p>$<p>T^{a b} = \int<em>{S^2} \int</em>0^\infty n^a n^b I_\nu d\nu d\Omega  $</p><p>where <span>$n^a = k^a / \nu$</span>. The radiative flux of energy in the direction of <span>$\bar{n}^a$</span> measured by an osberver with four-velocity <span>$u^a$</span> is <span>$T^{a b} u_a \bar{n}_b$</span>.</p><p>For discretizing this integral at position <span>$x^\mu$</span>, we choose an orthonormal tetrad. We take $ e<em>0 = \partial</em>t \
e<em>1 = -\partial</em>r \
e<em>2 = \partial</em>\phi \
e<em>3 = -\partial</em>\theta \
$ and orthonormalize it with respect to <span>$g_{\alpha \beta}(x^\mu)$</span>, where <span>$(r,\theta, \phi)$</span> are some topolgically spherical coordinates on the spacetime. Note that this assumes there is a timelike coordinate <span>$t$</span> and three spacelike coordinates from which there is a meaningful way of transforming to spherical-like coordinates. In flat spacetime, the interpretation of this tetrad is simple: <span>$e_1$</span> points towards the origin, <span>$e_2$</span> is parallel to the equatorial plane and <span>$e_3$</span> is parallel to the <span>$z$</span>-axis. Note that the triad we use is not direct. Note also that the choice of tetrad does not actually matter. The procedure we choose is sufficiently general to allow (almost) arbitrary spacetime position, flux direction, and observer four-velocity, but it is particularly well suited for large distances in asymptotically flat spacetimes where the source can be covered by a small spherical sector centered around <span>$e_1$</span>. Finally, we take coordinates <span>$(\alpha, \beta)$</span> on <span>$S^2$</span> such that  $ \alpha = \varphi \
\beta = \pi/2 -{\vartheta} $ where <span>$(\vartheta, \varphi)$</span> are the usual angular coordinates on <span>$S^2$</span>. The coordinates range over <span>$-π \le \alpha \lt \pi$</span> and <span>$-\pi/2 \le \beta \le \pi/2$</span>. The tetrad components of a vector in these coordinates can be written as $ k^0 = \nu \  k^1 = \nu \cos \alpha \cos \beta \
k^2 = \nu \sin \alpha \cos \beta \
k^3 = \nu \sin \beta  $ </p><p>Thus, in particular <span>$(\alpha, \beta) = (0,0)$</span> maps to <span>$e_1$</span>. In these coordinates, <span>$d\Omega = \cos \beta d\alpha d\beta$</span>. We only need to take the <span>$(\alpha, \beta)$</span> coordinate ranges large enough to cover the image of the emitting source. </p><p>Finally, we approximate the integral numerically as</p>$<p>\sum<em>{i j k} I</em>{ijk} n^a<em>{ij} n^b</em>{ij} \Delta \Omega_{ij} \Delta \nu \, ,     $</p><p>where <span>$I_{ijk} = I_{\nu_k}(n^a_{ij})$</span>, the tetrad components of <span>$n^a_{ij}$</span> are  $ [1, \cos \alpha<em>i \cos \beta</em>j, \sin \alpha<em>i \cos \beta</em>j, \sin \beta<em>j]\, , $ (we have to transform them to the coordinate frame before contraction), the solid angle of each section is $ \Delta \Omega</em>{ij} = \int<em>{D</em>{ij}} \cos \beta d\alpha d\beta = 2 \cos(\beta<em>j) \sin \left(\frac{\Delta \beta}{2} \right) \Delta \alpha, $ and D</em>{ij} = [\alpha<em>i-\Delta \alpha/2, \alpha</em>i+\Delta \alpha/2] \times [\beta<em>j - \Delta \beta / 2, \beta</em>j + \Delta \beta /2]$. We took a uniform grid such that  $ \alpha<em>i = -s</em>\alpha/2+(i-1/2)\Delta \alpha \  \beta<em>j = -s</em>\beta/2+(j-1/2)\Delta \beta \
\Delta \alpha = s<em>\alpha/N</em>\alpha \
\Delta \beta = s<em>\beta/N</em>\beta \
1 \le i \le N<em>\alpha \  1 \le j \le N</em>\beta $. </p><p>where <span>$s_\alpha, s_\beta$</span> are the horizontal and vertical aperture angles respectively, and <span>$N_\alpha$</span>, <span>$N_\beta$</span> are the numbers of pixels. The total solid angle is <span>$\Delta \Omega = 2 \sin(s_\beta/2)s_\alpha$</span></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 30 August 2023 03:13">Wednesday 30 August 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
